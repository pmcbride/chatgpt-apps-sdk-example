(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();let i=[];function l(t){const e=document.getElementById("posts-container");if(!t||t.length===0){e.innerHTML='<div class="loading">No posts found.</div>';return}e.innerHTML=t.map(r=>`
        <div class="post-card">
          <h2 class="post-title">${c(r.title)}</h2>
          <p class="post-content">${c(r.content)}</p>
          ${r.link?`<a href="${c(r.link)}" target="_blank" rel="noopener noreferrer" class="post-link">Read more â†’</a>`:""}
        </div>
      `).join("")}function c(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}window.refreshPosts=async function(){const t=document.getElementById("posts-container");t.innerHTML='<div class="loading">Loading posts...</div>';try{if(window.openai&&window.openai.callTool){const e=await window.openai.callTool("scrape_posts",{});e&&e.content&&e.content[0]&&(i=JSON.parse(e.content[0].text),l(i))}else t.innerHTML='<div class="loading">This widget requires ChatGPT context to function.</div>'}catch(e){const r=e instanceof Error?e.message:"Unknown error";t.innerHTML=`<div class="error">Error loading posts: ${r}. Please try refreshing or contact support.</div>`}};if(window.openai&&window.openai.toolOutput)try{const t=window.openai.toolOutput;t&&t.content&&t.content[0]&&(i=JSON.parse(t.content[0].text),l(i))}catch(t){console.error("Error parsing tool output:",t),refreshPosts()}else window.openai&&refreshPosts();
