(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();let i=[];function l(e){const t=document.getElementById("posts-container");if(!e||e.length===0){t.innerHTML='<div class="loading">No posts found.</div>';return}t.innerHTML=e.map(r=>`
        <div class="post-card">
          <h2 class="post-title">${c(r.title)}</h2>
          <p class="post-content">${c(r.content)}</p>
          ${r.link?`<a href="${c(r.link)}" target="_blank" rel="noopener noreferrer" class="post-link">Read more â†’</a>`:""}
        </div>
      `).join("")}function c(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}window.refreshPosts=async function(){const e=document.getElementById("posts-container");e.innerHTML='<div class="loading">Loading posts...</div>';try{if(window.openai&&window.openai.callTool){const t=await window.openai.callTool("scrape_posts",{});t&&t.content&&t.content[0]&&(i=JSON.parse(t.content[0].text),l(i))}else e.innerHTML='<div class="loading">This widget requires ChatGPT context to function.</div>'}catch(t){e.innerHTML=`<div class="error">Error loading posts: ${t.message}</div>`}};if(window.openai&&window.openai.toolOutput)try{const e=window.openai.toolOutput;e&&e.content&&e.content[0]&&(i=JSON.parse(e.content[0].text),l(i))}catch(e){console.error("Error parsing tool output:",e),refreshPosts()}else window.openai&&refreshPosts();
